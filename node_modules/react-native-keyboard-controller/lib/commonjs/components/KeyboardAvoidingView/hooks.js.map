{"version":3,"names":["_react","require","_reactNative","_reactNativeReanimated","_context","_hooks","OS","Platform","useKeyboardAnimation","reanimated","useKeyboardContext","heightWhenOpened","useSharedValue","height","progress","isClosed","useLayoutEffect","initialHeight","value","initialProgress","useKeyboardHandler","onStart","e","onMove","onInteractive","onEnd","exports","useTranslateAnimation","padding","translate"],"sources":["hooks.ts"],"sourcesContent":["import { useLayoutEffect } from \"react\";\nimport { Platform } from \"react-native\";\nimport { useSharedValue } from \"react-native-reanimated\";\n\nimport { useKeyboardContext } from \"../../context\";\nimport { useKeyboardHandler } from \"../../hooks\";\n\nconst OS = Platform.OS;\n\nexport const useKeyboardAnimation = () => {\n  const { reanimated } = useKeyboardContext();\n\n  const heightWhenOpened = useSharedValue(0);\n  const height = useSharedValue(0);\n  const progress = useSharedValue(0);\n  const isClosed = useSharedValue(true);\n\n  useLayoutEffect(() => {\n    const initialHeight = -reanimated.height.value;\n    const initialProgress = reanimated.progress.value;\n\n    // eslint-disable-next-line react-compiler/react-compiler\n    heightWhenOpened.value = initialHeight;\n    height.value = initialHeight;\n    progress.value = initialProgress;\n    isClosed.value = initialProgress === 0;\n  }, []);\n\n  useKeyboardHandler(\n    {\n      onStart: (e) => {\n        \"worklet\";\n\n        if (e.height > 0) {\n          isClosed.value = false;\n          heightWhenOpened.value = e.height;\n        }\n      },\n      onMove: (e) => {\n        \"worklet\";\n\n        progress.value = e.progress;\n        height.value = e.height;\n      },\n      onInteractive: (e) => {\n        \"worklet\";\n\n        progress.value = e.progress;\n        height.value = e.height;\n      },\n      onEnd: (e) => {\n        \"worklet\";\n\n        isClosed.value = e.height === 0;\n\n        height.value = e.height;\n        progress.value = e.progress;\n      },\n    },\n    [],\n  );\n\n  return { height, progress, heightWhenOpened, isClosed };\n};\nexport const useTranslateAnimation = () => {\n  const { reanimated } = useKeyboardContext();\n\n  const padding = useSharedValue(0);\n  const translate = useSharedValue(0);\n\n  useLayoutEffect(() => {\n    // eslint-disable-next-line react-compiler/react-compiler\n    padding.value = reanimated.progress.value;\n  }, []);\n\n  useKeyboardHandler(\n    {\n      onStart: (e) => {\n        \"worklet\";\n\n        if (e.height === 0) {\n          padding.value = 0;\n        }\n        if (OS === \"ios\") {\n          translate.value = e.progress;\n        }\n      },\n      onMove: (e) => {\n        \"worklet\";\n\n        if (OS === \"android\") {\n          translate.value = e.progress;\n        }\n      },\n      onInteractive: (e) => {\n        \"worklet\";\n\n        padding.value = 0;\n\n        translate.value = e.progress;\n      },\n      onEnd: (e) => {\n        \"worklet\";\n\n        padding.value = e.progress;\n\n        if (OS === \"android\") {\n          translate.value = e.progress;\n        }\n      },\n    },\n    [],\n  );\n\n  return { translate, padding };\n};\n"],"mappings":"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","ignoreList":[]}